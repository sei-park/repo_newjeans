<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ador.infra.hotelmember.HotelMemberDao">

	<resultMap type="com.ador.infra.hotelmember.HotelMemberDto" id="resultMapObj"></resultMap>
	
	<!-- selectList -->
	<select id="memberSelectList" resultMap="resultMapObj">
		SELECT  
			a.htmSeq,
	        a.htmUserName,
	        a.htmGender,
	        a.htmBirth,
	        a.htmId,
	        a.htmPassword,
	        a.htmPhoneNumber,
	        a.htmEmail,
	        a.htmAddress,
	        a.htmDetailedAddress,
	        a.htmZipCode,
	        a.htmRegDate,
	        a.htmGrade,
	        a.htmRegAgreeContentNy,
	        a.htmEditMemberDate,
	        a.htmDelNy,
	        a.htmDesc
		FROM
			newjeans.hotelmember a
		WHERE 1=1
			<if test="shDelNy != null and !shDelNy.equals('')">AND htmDelNy = #{shDelNy}</if>	
		ORDER BY 
			a.htmSeq desc
	</select>
	
	<!-- insert -->
	<insert id="memberInsert">
		insert into hotelmember (
			htmUserName,
	        htmGender,
	        htmBirth,
	        htmId,
	        htmPassword,
	        htmPhoneNumber,
	        htmEmail,
	        htmAddress,
	        htmDetailedAddress,
	        htmZipCode,
	        htmRegDate,
	        htmGrade,
	        htmRegAgreeContentNy,
	        htmEditMemberDate,
	        htmDelNy,
	        htmDesc
		) values (
			#{htmUserName},
			#{htmGender},
			#{htmBirth},
			#{htmId},
			#{htmPassword},
			#{htmPhoneNumber},
			#{htmEmail},
			#{htmAddress},
			#{htmDetailedAddress},
			#{htmZipCode},
			now(),
			#{htmGrade},
			#{htmRegAgreeContentNy},
			now(),
			0,
			#{htmDesc}
		)
	</insert>
	
	<!-- selectOne -->
	<select id="memberSelectOne" resultMap="resultMapObj">
		SELECT  
			a.htmSeq,
	        a.htmUserName,
	        a.htmGender,
	        a.htmBirth,
	        a.htmId,
	        a.htmPassword,
	        a.htmPhoneNumber,
	        a.htmEmail,
	        a.htmAddress,
	        a.htmDetailedAddress,
	        a.htmZipCode,
	        a.htmRegDate,
	        a.htmGrade,
	        a.htmRegAgreeContentNy,
	        a.htmEditMemberDate,
	        a.htmDelNy,
	        a.htmDesc
		FROM
			newjeans.hotelmember a	
		WHERE 1=1
			AND a.htmSeq = #{htmSeq}
	</select>
	
	<!-- update -->
	<update id="memberUpdate">
		update hotelmember
		set 
		    htmUserName = #{htmUserName},  
	        htmGender = #{htmGender},
	        htmBirth = #{htmBirth},
	        htmId = #{htmId},
	        htmPassword = #{htmPassword},
	        htmPhoneNumber = #{htmPhoneNumber},
	        htmEmail = #{htmEmail},
	        htmAddress = #{htmAddress},
	        htmDetailedAddress = #{htmDetailedAddress},
	        htmZipCode = #{htmZipCode},
	        htmGrade = #{htmGrade},
	        htmRegAgreeContentNy = #{htmRegAgreeContentNy},
	        htmEditMemberDate = now(),
	        htmDelNy = 0,
	        htmDesc = #{htmDesc}
	    where 1=1
	    	and htmSeq = #{htmSeq}
	</update>
	
	<!-- update delete -->
	<update id="uelete">
		UPDATE hotelmember
		SET
	        htmDelNy = 1
	    WHERE 1=1
	    	AND htmSeq = #{htmSeq}
	</update>
	
	<!-- delete -->
	<delete id="delete">
		DELETE FROM hotelmember
		WHERE 1=1
			AND htmSeq = #{htmSeq}
	</delete>
	
	
	
	
	
	
	  
	

</mapper>

