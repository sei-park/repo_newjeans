<!DOCTYPE html>
<html lang="zxx" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Title -->
    <title>로그인</title>
    <!-- Bootstrap css -->
    <link rel="stylesheet" href="/usr/v1/usertemplate/ui/assets/css/bootstrap.min.css" />
    <!-- animate css -->
    <link rel="stylesheet" href="/usr/v1/usertemplate/ui/assets/css/animate.min.css" />
    <!-- Fontawesome css -->
    <link rel="stylesheet" href="/usr/v1/usertemplate/ui/assets/css/fontawesome.all.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.2/font/bootstrap-icons.css">
    <!-- owl.carousel css -->
    <link rel="stylesheet" href="/usr/v1/usertemplate/ui/assets/css/owl.carousel.min.css" />
    <!-- Slick css -->
    <link rel="stylesheet" type="text/css" href="/usr/v1/usertemplate/ui/assets/css/slick.min.css" />
    <!--slick-theme.css-->
    <link rel="stylesheet" type="text/css" href="/usr/v1/usertemplate/ui/assets/css/slick-theme.css" />
    <!-- Rangeslider css -->
    <link rel="stylesheet" href="/usr/v1/usertemplate/ui/assets/css/nouislider.css" />
    <!-- owl.theme.default css -->
    <link rel="stylesheet" href="/usr/v1/usertemplate/ui/assets/css/owl.theme.default.min.css" />
    <!-- navber css -->
    <link rel="stylesheet" href="/usr/v1/usertemplate/ui/assets/css/navber.css" />
    <!-- meanmenu css -->
    <link rel="stylesheet" href="/usr/v1/usertemplate/ui/assets/css/meanmenu.css" />
    <!-- Style css -->
    <link rel="stylesheet" href="/usr/v1/usertemplate/ui/assets/css/style.css" />
    <!-- Responsive css -->
    <link rel="stylesheet" href="/usr/v1/usertemplate/ui/assets/css/responsive.css" />
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/usr/v1/usertemplate/ui/assets/img/favicon.png">
</head>

<style>
#idFeedback {
 	transform: translateY(-30%);
 }
 
 #pwFeedback {
 	transform: translateY(-170%);
 }



</style>

<body>
    <!-- preloader Area -->
    <div class="preloader">
        <div class="d-table">
            <div class="d-table-cell">
                <div class="lds-spinner">
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Header Area -->
    <div th:replace="~{usr/v1/infra/usrmember/common/header :: header}"></div>

    <!-- search -->
    <div class="search-overlay">
        <div class="d-table">
            <div class="d-table-cell">
                <div class="search-overlay-layer"></div>
                <div class="search-overlay-layer"></div>
                <div class="search-overlay-layer"></div>
                <div class="search-overlay-close">
                    <span class="search-overlay-close-line"></span>
                    <span class="search-overlay-close-line"></span>
                </div>
                <div class="search-overlay-form">
                    <form>
                        <input type="text" class="input-search" placeholder="Search here...">
                        <button type="button"><i class="fas fa-search"></i></button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Common Banner Area -->
    <section id="common_banner02">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="common_bannner_text">
                        <h2>Login</h2>
                        <ul>
                            <li><a href="index.html">Home</a></li>
                            <li><span><i class="fas fa-circle"></i></span> Login</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!--  Common Author Area -->
    <section id="common_author_area" class="section_padding">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 offset-lg-2">
                    <div class="common_author_boxed">
                        <div class="common_author_heading">
                            <!-- <h3>Login your account</h3> -->
                            <h2>회원 로그인</h2>
                        </div>
                        <div class="common_author_form">
                            <form action="#" class="needs-validation" novalidate name="form" id="main_author_form">
                            	<div class="row">
                            		<div class="col-md-12" align="center">
                                		<div class="form-group col-md-6">
                                    		<input type="text" class="form-control" placeholder="아이디" id="htmId" name="htmId" value="sei96" required />
                               	 		</div>
                               	 		<div class="invalid-feedback" id="idFeedback">아이디를 입력해 주세요</div>
<!--                                	 		<div class="invalid-feedback" id="idCheckFeedback">아이디를 입력해 주세요</div> -->
                            		</div>
                            	</div>
                            	<div class="row">
                            		<div class="col-md-12" align="center">
                                		<div class="form-group col-md-6">
                                    		<input type="password" class="form-control" placeholder="비밀번호" id="htmPassword" name="htmPassword" value="sei123123" required />
<!--                                     		<a href="forgot-password.html">비밀번호 찾기</a> -->
                               	 		</div>
                               	 		<div class="invalid-feedback" id="pwFeedback">비밀번호를 입력해 주세요</div>
<!--                                	 		<div class="invalid-feedback" id="pwCheckFeedback">비밀번호를 입력해 주세요</div> -->
                            		</div>
                            	</div>
                                <div class="common_form_submit">
                                    <button type="button" id="signinBtn" class="btn btn_theme btn_md">로그인</button>
                                </div>
                                <div class="have_acount_area">
                                    <p>계정이 없습니다 <a href="/v1/infra/usrmember/usrSignup">회원가입 하기</a></p>
                                </div>
                                <!-- 카카오 로그인 버튼 -->
                                <div class="have_acount_area">
                                	<a href="/kakaoUrl?state=/v1/infra/usrmember/usrIndex">
                                    	<img src="/usr/v1/usertemplate/ui/assets/image/kakao_login.png" alt="img" id="kakaoLoginBtn">
                                    </a>
                                </div>
                            </form>
                            
                                <!-- Modal --> 
								<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<div class="modal-content">
											<div class="modal-header">
												<h1 class="modal-title fs-5" id="exampleModalLabel">확인해주세요</h1>
													<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
											</div>
											<div class="modal-body">아이디 또는 비밀번호가 일치하지 않습니다</div>
											<div class="modal-footer">
												<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">확인</button>
											</div>
										</div>
										</div>
								</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Cta Area -->
    <!-- <section id="cta_area">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-7">
                    <div class="cta_left">
                        <div class="cta_icon">
                            <img src="/usr/v1/usertemplate/ui/assets/img/common/email.png" alt="icon">
                        </div>
                        <div class="cta_content">
                            <h4>Get the latest news and offers</h4>
                            <h2>Subscribe to our newsletter</h2>
                        </div>
                    </div>
                </div>
                <div class="col-lg-5">
                    <div class="cat_form">
                        <form id="cta_form_wrappper">
                            <div class="input-group"><input type="text" class="form-control"
                                    placeholder="Enter your mail address"><button class="btn btn_theme btn_md"
                                    type="button">Subscribe</button></div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section> -->

    <!-- Footer -->
    <div th:replace="~{usr/v1/infra/usrmember/common/footer :: footer}"></div>

    <div class="copyright_area">
        <div class="container">
            <div class="row align-items-center">
                <div class="co-lg-6 col-md-6 col-sm-12 col-12">
                    <div class="copyright_left">
                        <!-- <p>Copyright © 2022 All Rights Reserved</p> -->
                    </div>
                </div>
                <div class="co-lg-6 col-md-6 col-sm-12 col-12">
                    <div class="copyright_right">
                        <img src="/usr/v1/usertemplate/ui/assets/image/main_logo_01.png" alt="img">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="go-top">
        <i class="fas fa-chevron-up"></i>
        <i class="fas fa-chevron-up"></i>
    </div>

    <script src="/usr/v1/usertemplate/ui/assets/js/jquery-3.6.0.min.js"></script>
    <!-- Bootstrap js -->
    <script src="/usr/v1/usertemplate/ui/assets/js/bootstrap.bundle.js"></script>
    <!-- Meanu js -->
    <script src="/usr/v1/usertemplate/ui/assets/js/jquery.meanmenu.js"></script>
    <!-- owl carousel js -->
    <script src="/usr/v1/usertemplate/ui/assets/js/owl.carousel.min.js"></script>
    <!-- wow.js -->
    <script src="/usr/v1/usertemplate/ui/assets/js/wow.min.js"></script>
    <!-- Custom js -->
    <script src="/usr/v1/usertemplate/ui/assets/js/custom.js"></script>
    <script src="/usr/v1/usertemplate/ui/assets/js/add-form.js"></script>
    
    
    
    <script>
    // validation
    
    // signin
    document.getElementById("signinBtn").onclick = function () {
    	  
    	// 아이디
    	let userId = document.getElementById("htmId");
    	let userIdValue = document.getElementById("htmId").value.trim();
    	
        // 비밀번호 
    	let userPw = document.getElementById("htmPassword");
    	let userPwValue = document.getElementById("htmPassword").value.trim();
    	
    	// Validation 초기화
    	// 아이디
    	userId.classList.remove('is-valid', 'is-invalid');
    	idFeedback.style.display = 'none';
//     	idCheckFeedback.style.display = 'none';
    	//비밀번호
    	userPw.classList.remove('is-valid', 'is-invalid');
    	pwFeedback.style.display = 'none';
//     	pwCheckFeedback.style.display = 'none';
    	
    	// 아이디가 비어 있거나 없을 경우 
		if(userIdValue == "" || userIdValue == null) {
			idFeedback.style.display ='block'; 
			userId.classList.add('is-invalid');  
			userId.focus(); 
 			return false; 
    	} else {
    		// by pass        
    	}
    	
    	
		///////////////////////////////////////////////
    	
		// 비밀번호가 비어 있거나 없는 경우 
		if(userPwValue == "" || userPwValue == null) {
			pwFeedback.style.display ='block'; 
			userPw.classList.add('is-invalid');  
			userPw.focus(); 
 			return false; 
    	} else {
    		// by pass        
    	}
		
    	
	    $.ajax({ // AJAX 요청을 시작하는 jQuery 매서드
			async: true // 요청을 비동기로 처리 
			,cache: false // 요청 결과를 캐시하지 않도록 설정 
			,type: "post" // HTTP 매서드를 POST로 설정 
			/* ,dataType:"json" */
			,url: "/v1/infra/usrmember/usrSigninProc" // 요청을 보낼 url 
			/* ,data : $("#formLogin").serialize() */ 
			,data : { "htmId" : $("#htmId").val(), "htmPassword" : $("#htmPassword").val()} // 사용자 id와 비밀번호를 가져와서 전송 
			,success: function(response) { // 요청이 성공적으로 완료되면 실행될 함수 
				if(response.rt == "success") { // 응답의 rt 속성이 "success" 일 경우 
					location.href="/v1/infra/usrmember/usrIndex"; // 사용자 메인페이지로 리다이렉션  
				} else {  
					$("#exampleModal").modal("show"); // 로그인 실패 시 모달 창을 띄움
					userId.classList.add('is-invalid'); 
					userPw.classList.add('is-invalid');
				}
			  }
          }); // ajax end
    	
    	
    } // signinBtn end
    
 	// 엔터키로 로그인
    // enterkey() 함수는 keydown 이벤트 리스너에 추가되어야 함
    document.getElementById("htmId").addEventListener("keydown", enterkey);
    document.getElementById("htmPassword").addEventListener("keydown", enterkey);
    
    function enterkey() { 
  	  if (window.event.keyCode == 13) { // 엔터키 코드가 13
  		  document.getElementById("signinBtn").click(); // 로그인 버튼 클릭 이벤트 실행      
  	  }
  	}
    

    
    
    
    
    </script>
    
    
    
    
    
    

</body>

</html>